services:
  wet-mcp:
    build: .
    # image: n24q02m/wet-mcp:beta  # Use pre-built image instead of build
    stdin_open: true
    volumes:
      - wet-data:/data
    environment:
      CACHE_DIR: /data
      DOWNLOAD_DIR: /data/downloads
      # Optional: API keys for media analysis and cloud embedding
      # API_KEYS: "GOOGLE_API_KEY:AIza..."
      # Optional: Embedding backend (auto-detect by default)
      # EMBEDDING_BACKEND: "local"  # or "litellm"
      # EMBEDDING_MODEL: ""  # LiteLLM format, auto-detect if empty
      # Optional: Reranking
      # RERANK_ENABLED: "true"
      # RERANK_BACKEND: ""  # follows EMBEDDING_BACKEND
      # Optional: Google Drive sync
      # SYNC_ENABLED: "true"
      # SYNC_REMOTE: "gdrive"
      # SYNC_FOLDER: "wet-mcp"
      # SYNC_INTERVAL: "300"
      # RCLONE_CONFIG_GDRIVE_TYPE: "drive"
      # RCLONE_CONFIG_GDRIVE_TOKEN: "<paste base64 token>"
    restart: unless-stopped

volumes:
  wet-data:
